<properties 
    pageTitle="Välittää poikkeukset | Microsoft Azure"
    description="Luettelo välitys poikkeukset ja ehdotetut toimenpiteet."
    services="service-bus"
    documentationCenter="na"
    authors="jtaubensee"
    manager="timlt"
    editor="tysonn" />
<tags 
    ms.service="service-bus"
    ms.devlang="na"
    ms.topic="article"
    ms.tgt_pltfrm="na"
    ms.workload="na"
    ms.date="10/28/2016"
    ms.author="jotaub" />

# <a name="relay-exceptions"></a>Välitys poikkeukset

Tässä artikkelissa on lueteltu joitakin poikkeukset Microsoft Azure välitys API. Viittaus voi muuttua, joten Tarkista päivitykset.

## <a name="exception-categories"></a>Poikkeus-luokat

Välitys-ohjelmointirajapinnan Luo poikkeukset, jotka voivat kuuluvat seuraavaan luokkaan, sekä liittyvän toiminnon, voit yrittää korjata ne.

1.  Käyttäjän coding virhe ([System.ArgumentException](https://msdn.microsoft.com/library/system.argumentexception.aspx), [System.InvalidOperationException](https://msdn.microsoft.com/library/system.invalidoperationexception.aspx) [System.OperationCanceledException](https://msdn.microsoft.com/library/system.operationcanceledexception.aspx), [System.Runtime.Serialization.SerializationException](https://msdn.microsoft.com/library/system.runtime.serialization.serializationexception.aspx)). Yleiset toiminto: yrittää korjata koodi, ennen kuin jatkat.

2.  Asennus ja määritys-virheen ([Microsoft.ServiceBus.Messaging.MessagingEntityNotFoundException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingentitynotfoundexception.aspx), [System.UnauthorizedAccessException](https://msdn.microsoft.com/library/system.unauthorizedaccessexception.aspx). Yleiset toiminto: Tarkista kokoonpanosi ja muuta tarvittaessa.

3.  Lyhytkestoisia poikkeukset ([Microsoft.ServiceBus.Messaging.MessagingException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingexception.aspx), [Microsoft.ServiceBus.Messaging.ServerBusyException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.serverbusyexception.aspx) [Microsoft.ServiceBus.Messaging.MessagingCommunicationException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingcommunicationexception.aspx)). Yleiset toiminto: Yritä tai ilmoittaa käyttäjille.

4.  Muut poikkeukset ([System.Transactions.TransactionException](https://msdn.microsoft.com/library/system.transactions.transactionexception.aspx), [System.TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx), [Microsoft.ServiceBus.Messaging.MessageLockLostException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagelocklostexception.aspx), [Microsoft.ServiceBus.Messaging.SessionLockLostException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.sessionlocklostexception.aspx)). Yleiset toiminto: tietyn poikkeustyyppi; Lisätietoja on seuraavassa kohdassa taulukon. 

## <a name="exception-types"></a>Poikkeus tyypit

Seuraavassa taulukossa on lueteltu tekstiviesti poikkeuksen tyypit ja niiden syitä ja voit tehdä muistiinpanoja toimenpide.

| **Poikkeustyyppi**                                                                                                                                                                                                                                                                                | **Kuvaus/syy ja esimerkkejä**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | **Toimenpide-ehdotus**                                                                                                                                                                                                                                                                                                                                                                                                          | **Huomautus Automaattiset heti uudelleen**                                                                                             |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------|
| [TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx)                                                                                                                                                                                                           | Palvelin ei vastannut toimintoa, joka ohjaa [OperationTimeout](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingfactorysettings.operationtimeout.aspx)määritetyn ajan kuluessa. Palvelin on suoritettu toimintoa. Tämä voi johtua verkko- tai muita infrastruktuuri viiveitä vuoksi.                                                                                                                                                                                                                                                                   | Järjestelmätilan yhdenmukaisuuden ja yritä uudelleen tarvittaessa. Katso [aikakatkaisu poikkeukset](#timeoutexception).                                                                                                                                                                                                                                                                                                                                                           | Joissakin tapauksissa voi olla apua uudelleen Yritä logiikan lisääminen koodi.                                                                      |
| [InvalidOperationException](https://msdn.microsoft.com/library/system.invalidoperationexception.aspx)                                                                                                                                                                                         | Pyydetty Käyttäjätoiminto ei ole sallittu sisällä palvelimeen tai palveluun. Katso lisätietoja Poikkeusviesti. Esimerkiksi [täydellinen](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.brokeredmessage.complete.aspx) tuottaa tätä poikkeusta, jos viesti on vastaanotettu **ReceiveAndDelete** -tilassa.                                                                                                                                                                                                                                                                                                     | Tarkista koodi ja ohjeisiin. Varmista, että toimintoa on voimassa.                                                                                                                                                                                                                                                                                                                                         | Yritä ei avulla.                                                                                                          |
| [OperationCanceledException](https://msdn.microsoft.com/library/system.operationcanceledexception.aspx)                                                                                                                                                                                       | Ohjelma yritetään käynnistää toiminnon objekti, joka on jo suljettu, on keskeytetty tai poistettu. Vain harvoin ympäröivä tapahtumaan on jo poistettu.                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Tarkista koodi ja varmista, että se ei ole ongelma toimenpiteet poistettua objektia.                                                                                                                                                                                                                                                                                                                                          | Yritä ei avulla.                                                                                                          |
| [UnauthorizedAccessException](https://msdn.microsoft.com/library/system.unauthorizedaccessexception.aspx)                                                                                                                                                                                     | [TokenProvider](https://msdn.microsoft.com/library/azure/microsoft.servicebus.tokenprovider.aspx) objektia ei voi hankkia tunnusta, tunnus on virheellinen tai tunnuksen ei sisällä saatavat toiminnon suorittaminen edellyttää.                                                                                                                                                                                                                                                                                                                                                                                                  | Varmista, että suojaustunnuksen toimittaja luodaan oikeat arvot. Tarkista käyttöoikeuksien valvonta-palvelun määritykset.                                                                                                                                                                                                                                                                                                   | Joissakin tapauksissa voi olla apua uudelleen Yritä logiikan lisääminen koodi.                                                                      |
| [ArgumentException](https://msdn.microsoft.com/library/system.argumentexception.aspx)<br /> [ArgumentNullException](https://msdn.microsoft.com/library/system.argumentnullexception.aspx)<br />[ArgumentOutOfRangeException](https://msdn.microsoft.com/library/system.argumentoutofrangeexception.aspx) | Vähintään yksi menetelmän annetut argumentit ovat virheelliset.<br /> [NamespaceManager](https://msdn.microsoft.com/library/azure/microsoft.servicebus.namespacemanager.aspx) tai [Luo](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingfactory.create.aspx) yhdistettävän URI sisältää polku mukaisten.<br /> [NamespaceManager](https://msdn.microsoft.com/library/azure/microsoft.servicebus.namespacemanager.aspx) tai [Luo](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingfactory.create.aspx) yhdistettävän URI-malli on virheellinen. <br />Ominaisuuden arvo on suurempi kuin 32 Kilotavua. | Tarkista puheluja koodi ja varmista, että argumentit ovat oikein.                                                                                                                                                                                                                                                                                                                                                           | Yritä ei avulla.                                                                                                          |
| [ServerBusyException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.serverbusyexception.aspx)                                                                                                                                                                       | Palvelu ei ole voivat käsitellä pyyntöä tällä hetkellä.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Asiakas voi Odota tietyn ajan ja sitten uudelleen.                                                                                                                                                                                                                                                                                                                                                           | Asiakas voi uudelleen tietyn ajanjakson jälkeen. Jos yritä tuloksena eri poikkeuksen, valitse kyseisen poikkeuksen uudelleen toimintaa. |
| [QuotaExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.quotaexceededexception.aspx)                                                                                                                                                                 | Tekstiviesti kohteen sallitun enimmäiskoko on saavutettu.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Kohteen tai sen osa olevien viestien vastaanottaminen luoda kohteen tilaa. Katso [QuotaExceededException](#quotaexceededexception).                                                                                                                                                                                                                                                                                                                                      | Yritä voi olla apua, jos viestit on poistettu sillä välin.                                                               |
| [MessageSizeExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagesizeexceededexception.aspx)                                                                                                                                                     | Viestin paketti sallitut 256K. Huomaa, että 256 k rajoitus viestien kokonaiskokoa, jotka voivat sisältää järjestelmän ominaisuudet- ja minkä tahansa .NET katseltavan.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Viestin tiedot koon pienentäminen ja yritä uudelleen.                                                                                                                                                                                                                                                                                                                                                         | Yritä ei avulla.                                                                                                          |

## <a name="quotaexceededexception"></a>QuotaExceededException

[QuotaExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.quotaexceededexception.aspx) ilmaisee, että tietyn kohteen kiintiö on ylitetty.

Tätä poikkeusta rivittää välitys, saat [System.ServiceModel.QuotaExceededException](https://msdn.microsoft.com/library/system.servicemodel.quotaexceededexception.aspx), joka ilmaisee kuuntelijoita enimmäismäärä on ylitetty tämän päätepisteen. Tämä näkyy poikkeuksen viestin **MaximumListenersPerEndpoint** -arvo.

## <a name="timeoutexception"></a>TimeoutException 

[TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx) ilmaisee, että käyttäjän käynnistämä toiminto kestää kauemmin kuin toiminnon aikakatkaisu. 

Tarkista [ServicePointManager.DefaultConnectionLimit](https://msdn.microsoft.com/library/system.net.servicepointmanager.defaultconnectionlimit) -ominaisuuden kuin pallolla raja Näin voit myös a [TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx)syy.

Näyttöön voi tulla välitys, aikakatkaisu poikkeukset avattaessa ensin välitys lähettäjän yhteyden. Kaksi yleistä syytä poikkeus:

1. [OpenTimeout](https://msdn.microsoft.com/library/wcf.opentimeout.aspx) arvo saattaa olla liian pientä (jopa murtoluvun sekunneiksi).
2. Paikallisen välitys listener(s) ei ehkä vastaa (tai kieltää kuuntelijoita eivät voi hyväksyä yhteyksien palomuurin säännöt ongelmia voi ilmetä) ja [OpenTimeout](https://msdn.microsoft.com/library/wcf.opentimeout.aspx) arvo on pienempi kuin noin 20 sekuntia.

Esimerkki:

```
'System.TimeoutException’: The operation did not complete within the allotted timeout of 00:00:10. The time allotted to this operation may have been a portion of a longer timeout.
```

### <a name="common-causes"></a>Tavallisia syitä

Kaksi yleistä syytä tämän virheen: virheellisistä määrityksistä tai lyhytkestoisia palveluvirhe.

1. **Epäonnistuneen konfiguroinnin** 
    toiminnon aikakatkaisu voi olla liian pientä toiminnallisia ehto. Toiminnon aikakatkaisu SDK-asiakasohjelmassa oletusarvo on 60 sekuntia. Tarkista, onko koodisi arvon jotain pieni. Huomaa, että verkko- ja suorittimen käyttö kunto voivat vaikuttaa latausaikaan tietyn toiminnon suorittaminen edellyttää, jotta toiminnon aikakatkaisu ei voi määrittää vähän arvon.

2. **Lyhytkestoisia palveluvirhe** 
    joskus välitys voi ilmetä viipeitä käsittely; esimerkiksi aikana suuri tietoliikenne. Tässä tapauksessa voit yrittää uudelleen toiminto viiveen jälkeen, kunnes toiminto onnistuu. Jos sama toiminto epäonnistuu useiden yritysten jälkeen, siirry [Azure palvelun tila-sivusto](https://azure.microsoft.com/status/) ole mitään tunnetut palvelukatkoksia.

## <a name="next-steps"></a>Seuraavat vaiheet:

- [Välitys usein kysytyt kysymykset](relay-faq.md)
- [Luo nimitila](relay-create-namespace-portal.md)
- [.NET käytön aloittaminen](relay-hybrid-connections-dotnet-get-started.md)
- [Solmun käytön aloittaminen](relay-hybrid-connections-node-get-started.md)