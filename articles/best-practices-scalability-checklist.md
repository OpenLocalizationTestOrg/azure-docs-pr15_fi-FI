<properties
   pageTitle="Skaalattavuus tarkistusluettelon | Microsoft Azure"
   description="Skaalattavuus tarkistusluettelon rakenne huolta Azure automaattisen skaalauksen poistaminen ohjeita."
   services=""
   documentationCenter="na"
   authors="dragon119"
   manager="christb"
   editor=""
   tags=""/>

<tags
   ms.service="best-practice"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="07/13/2016"
   ms.author="masashin"/>

# <a name="scalability-checklist"></a>Skaalattavuus tarkistusluettelo

[AZURE.INCLUDE [pnp-header](../includes/guidance-pnp-header-include.md)]

## <a name="service-design"></a>Palvelun rakenne
- **Osion työmäärää**. Suunnittele prosessi on erillinen ja decomposable osat. Pienennä kokoa tarkemmin, kun seuraa huolta ja yksittäisen vastuu tarpeen erottaminen tavallista säännöt. Näin osien jaetaan niin, että suurentaa Käytä kunkin Laske yksikön (kuten rooli tai tietokanta-palvelin). Se helpottaa myös skaalata sovelluksen lisäämällä resurssit esiintymät. Lisätietoja on kohdassa [Laske jakaminen ohjeita](https://msdn.microsoft.com/library/dn589773.aspx).
- **Skaalauksen rakenne**. Skaalaus pienenevillä roolit, esiintymien määrän jonoon ja vastata muuttujan kuormituksen suurentamalla sovellukset ja muiden palvelujen ne käyttävät. Kuitenkin sovellus on suunniteltava tämän mielessä. Esimerkiksi sovelluksen ja se käyttää palveluja on oltava tilattomien sallimaan pyynnöt reititetään minkä tahansa esiintymään. Tämä estää lisäämällä tai tietyn esiintymien vaikuttavat haittaa nykyisille käyttäjille. Kannattaa myös otat määritysten tai automaattinen tunnistaminen esiintymät, kun ne lisätään ja poistetaan, niin, että koodi-sovelluksessa voit tehdä tarvittavat reititys. Esimerkiksi web-sovelluksen käytöstä olevien joukko pyöreän pöydän vaiheelta pyynnöt reitittämiseen työntekijä roolien tausta-palveluita. Web-sovelluksen on oltava pysty tunnistamaan muutokset olevien reitittää pyynnöt ja sovelluksen kuormituksen määrä.
- **Yksikkönä asteikko**. Lisäresursseja sopimaan kasvu suunnitteleminen. Kullekin resurssille tietää ikkunan skaalausta rajoitukset ja muutakin kuin nämä raja-arvot sharding tai hajotus avulla. Määrittää järjestelmän kannalta hyvin määritetyt resurssit tietojoukkoa aikayksikön. Näin kohdistaa asteikko-kohtaa toimintojen helpompaa ja pienempi voi enää negatiivinen vaikutus sovelluksen rajoituksia koska resurssit-osassa yleinen järjestelmän kautta. Esimerkiksi lisäämällä x Internetin kautta tai työntekijä roolit määrä voi edellyttää muita olevien y määrä- ja z-numeron tallennustilan tilien käsittelemään roolit luoma muita työmäärää. Jotta asteikko voi olla x Internetin kautta tai työntekijä roolit ja _y_ olevien _z_ tallennustilan tilit. Suunnittele sovelluksen niin, että se sovitetaan helposti lisäämällä yhden tai useamman aikayksikön.
- **Vältä asiakkaan affiniteetti**. Mahdollisuuksien mukaan varmistaa, että sovellus ei edellytä affiniteetti. Pyynnöt voidaan reitittää näin minkä tahansa esiintymän ja niiden esiintymien lukumäärän, ei ole merkitystä. Tämä voidaan myös katseltavan tallentaminen ja hakeminen ylläpito tilatietoja kullekin käyttäjälle.
- **Voit hyödyntää ympäristön automaattisen skaalauksen poistaminen ominaisuuksia**. Jossa Isäntäympäristö tukee automaattisen skaalauksen poistaminen-ominaisuutta, kuten Azure Automaattinen skaalaus-mieluummin mukautettujen tai kolmannen osapuolen järjestelmiä paitsi valmiin järjestelmä ei voi täyttää tarpeen. Käytä ajoitetun skaalauksen sääntöjä, jos mahdollista, jotta resurssien ovat saatavissa pysäyttämisestä välittömästi, mutta Lisää uudelleenaktivointi automaattisen skaalauksen poistaminen sääntöjä tarvittaessa odottamattomia muutoksia, siten. Voit käyttää automaattisen skaalauksen poistaminen toimintojen Service Management Ohjelmointirajapinnan Säädä automaattisen skaalauksen poistaminen ja haluat lisätä mukautetun laskureita säännöt. Lisätietoja on artikkelissa [Automaattinen skaalaaminen ohjeita](best-practices-auto-scaling.md).
- **Purku taustaprosessit tehostettu suorittimen/IO tehtäviä**. Jos palvelun pyyntö on tarkoitus kestää kauan suorittamaan tai Vaimenna huomattavia resursseja, kuormituksesta Tämä pyyntö erillinen tehtävä. Työntekijän roolit tai taustan työt (mukaan Isäntäympäristö) avulla voit suorittaa seuraavat tehtävät. Tämä menetelmä mahdollistaa edelleen vastaanottaa edelleen pyynnöt ja jää vastaa palvelun.  Lisätietoja on artikkelissa [taustan työt ohjeita](best-practices-background-jobs.md).
- **Jaa taustaprosessit työmäärää**. Missä monia taustan tehtäviä tai tehtävien edellyttävät huomattavasti aikaa ja resursseja, levitä työmäärää yli useita Laske resurssit (esimerkiksi työntekijän roolit tai taustan työt). Katso yksi mahdollinen ratkaisu [Pikaluistelukilpailuissa kuluttajille kuvio](https://msdn.microsoft.com/library/dn568101.aspx).
- **Siirtäminen kohti harkitse _jaettu mitään_ arkkitehtuuri**. Jaettu mitään arkkitehtuuri käyttää riippumaton, omillaan solmujen, joilla ei ole yksittäisen kohdan ristiriita (esimerkiksi jaettujen palveluiden tai tallennustilan). Teoriassa järjestelmän skaalata lähes jatkuvasti. Kun täysin jaettu-mitään lähestymistavan ei yleensä käytännön useimpien sovellusten, se voi antaa mahdollisuudet rakenne paremmin skaalattavuus. Esimerkiksi sinun on käytettävä palvelinpuolen istunnon tila, asiakkaan affiniteetti ja tietojen jakaminen on hyvä esimerkkejä siirtäminen jaettu mitään arkkitehtuuri kohti.

## <a name="data-management"></a>Tietojen hallinta

- **Käytä tietojen jakaminen**. Jakaa tietoja eri tietokantojen ja tietokannan palvelinten välillä tai rakenne-sovelluksen käyttämään tietosäilö services, joka voidaan lisätä jakaminen läpinäkyvä (esimerkkejä Azure SQL tietokanta joustavasti tietokanta ja Azure-taulukkotallennus). Tämän menetelmän avulla voit parantaa suorituskykyä ja Salli helpompaa skaalaus. On erilaisia menetelmiä, kuten vaakasuora, pystysuora, jakaminen ja toiminnassa. Voit käyttää näiden yhdistelmä saavuttamiseksi suurin etu parantavat kyselyn suorituskykyä, yksinkertaisempi skaalattavuus, joustavammat hallinta, parempi käytettävyys ja vastaamaan kaupan siihen mahtuu tietojen tyypin. Kannattaa myös käyttää erilaisia tietosäilö eri tietotyyppeihin, valitsemalla perusteella sekä siitä, miten ne on optimoitu tietyntyyppisiä tietoja tyypit. Tämä voi sisältyä taulukkotallennus, asiakirjan tietokannan tai sarakkeen perheen tietojen säilö, sen sijaan, tai sekä avulla kuin relaatiotietokannasta. Lisätietoja on artikkelissa [tietojen osioinnin ohjeita](best-practices-data-partitioning.md).
- **Potentiaalisen yhdenmukaisuuden rakenne**. Potentiaalisen yhdenmukaisuuden parantaa skaalattavuus pienentäminen tai poistamalla osioitu yli useita stores liittyvien tietojen synkronoiminen tarvittavan ajan. Kustannus on, että tiedot eivät ole aina yhdenmukaisia on luku, ja jotkin toiminnot voivat aiheuttaa ristiriitoja kirjoittaminen. Tilanteet, joissa samat tiedot lukea usein mutta kirjoitettu harvoin sopii potentiaalisen yhdenmukaisuuden. Lisätietoja on artikkelissa [Tietojen kelpoisuus askeleet](https://msdn.microsoft.com/library/dn589800.aspx).
- **Vähennä chatty vuorovaikutuksesta osat ja -palvelut**. Vältä suunnitteleminen vuorovaikutukset, sovellus on suoritettava useita soittamiseen-palveluun (kukin ottavat palauttaa pienen osan tietojen), sen sijaan, että yhden puhelun, jotka palauttavat kaikki tiedot. Mahdollisuuksien mukaan Yhdistä useita liittyviä toimintoja kyselyjä yksittäisen pyynnön, kun puhelu on palveluun tai osa, joka on huomattavia viive. Tämä on helppo seurata suorituskykyä ja optimoida monimutkaisia toimintoja. Esimerkiksi tallennettujen toimintosarjojen käyttäminen tietokantojen tärkeintä monitasoista logiikkaa ja vähennä edestakaiset matkat ja resurssin lukitus.
- **Käytä olevien hyvin nopeutta tietojen kirjoituksia lataus taso**. Palvelun demand laiteongelmista voit ärsyttävä liikaa täyttää palvelun ja aiheuttaa escalating virheitä. Voit estää tämän harkita [jonon perustuva kuormituksen tasaaminen kuvio](https://msdn.microsoft.com/library/dn589783.aspx). Käytä jono, joka toimii puskurin tehtävän – palvelu, joka käynnistää sen. Tämä tasoittaa katkonainen paksu latautuu, jotka saattavat aiheuttaa muussa palvelun epäonnistuu tai tehtävän aikakatkaisu.
- **Pienennä tietovaraston kuormitus**. Tietosäilö on yleisesti käsittely-pullonkaula kallista resurssi ja usein ei ole helppo skaalata ulos. Mahdollisuuksien mukaan (esimerkiksi käsittelyn XML-tiedostot tai objektit JSON) logiikan poistaminen tietovaraston ja suorittaa käsittely-sovelluksessa. Esimerkiksi sijaan kulkeva XML-tietokantaan (muu kuin peittävä merkkijonona tallennuksessa), muuntaa sarjaksi tai poistaa XML sisällä sovelluskerroksen ja siirtää lomake, joka on alkuperäisen tietovaraston. On yleensä helpompaa skaalata kuin tietovaraston-sovellus, jotta yrität pitäisi tehdä niin paljon sovelluksessa mahdollisimman paljon Laske-käsittely.
- **Pienennä äänenvoimakkuutta tiedot on noudettu**. Hae vain määrittämällä sarakkeiden ja rivien valitseminen ehtojen käyttämisestä edellyttävät tiedot. Tee Käytä taulukon arvoa parametrien ja sopiva eristystaso. Käytä menetelmiä, kuten kohteen tunnisteen, kun haluat välttää tietojen noutaminen tarpeettoman.
- **Käytä aggressively välimuistiin**. Käytä mahdollisuuksien vähentää resurssien ja luo tai välittää tietoja palveluita kuormitus välimuistiin. Välimuistin sopii yleensä tietoja, jotka on suhteellisen staattinen tai, joka edellyttää huomattavia käsittely hankkiminen. Välimuistin kaikilla tasoilla pitäisi ilmetä tarvittaessa kerroksia sovellus, mukaan lukien tietojen käytön ja käyttäjän käyttöliittymän luomista. Lisätietoja on artikkelissa [Välimuistin ohjeita](best-practices-caching.md).
- **Käsitellä tietoja kasvu ja säilytyskäytäntöjä**. Sovelluksen tallentamat määrä kasvaa ajan kuluessa. Tämä kasvu kasvaa tallennustilan kustannuksia ja kasvattaa viive käytettäessä tiedot, mikä vaikuttaa sovelluksen siirtonopeuden ja suorituskykyä. Voi olla mahdollista säännöllisesti arkistoida vanhat soluihin, joita ei enää käyttää tai siirtää tietoja, jota käytetään vain harvoin pitkään varastoon, joka on tehokasta, Lisää kustannukset, vaikka access viive on suurempi.
- **Optimoi tietojen siirtäminen objektit (DTOs) tehokas binaarimuodossa**. DTOs siirretään sovelluksen kerrosten väliin useita kertoja. Koon pienentäminen vähentää resurssien ja verkon kuormitus. Kuitenkin saldo säästöjen muuntaa tiedot vaadittava muoto paikkoihin, missä sitä käytetään katseltavan kanssa. Hyväksyy muodossa, joka on enintään yhteensopivuus osan helposti uudelleen käyttöön.
- **Välimuistin ohjausobjekti**. Suunnittele ja määritä sovellus käyttää tulostusvälimuistin tai jakaa välimuistiin mahdollisuuksien Pienennä käsittelykuormitus.
- **Ota käyttöön asiakkaan välimuistin**. Verkkosovellusten on otettava käyttöön sisältöön, joka voi olla välimuistiin välimuistiasetukset. Tämä on yleensä poissa käytöstä oletusarvoisesti. Määritä palvelimen toimittamaan tarvittavat välimuistin ohjausobjektin otsikot välimuistiin tallentamisen välityspalvelimet ja asiakkaiden sisällön käyttöönotto.
- **Käytä Azure-blob-säiliö ja Azure toimitus-sisällön verkkoon, voit pienentää sovelluksen kuormitus**. Harkitse tallentamista staattinen tai suhteellisen staattinen julkisen sisältöä, kuten kuvia, resurssien, komentosarjojen ja tyylisivut-Blob-objektien tallennustilaan. Tämän menetelmän hätätoimet aiheutuvat luodaan dynaamisesti sisällön sivupyynnön Lataa sovellus. Lisäksi kannattaa harkita sisällön lähettämisen verkon välimuistin sisällön ja pitää sen asiakkaiden. Sisällön toimittamista verkon voi parantaa suorituskykyä asiakkaan, koska sisältö toimitetaan maantieteellisesti lähinnä palvelinkeskukseen, joka sisältää sisällön toimittamista verkon välimuistin kohteesta. Lisätietoja on artikkelissa [Sisällön toimituksen verkon ohjeita](best-practices-cdn.md).
- **Optimoi ja hienosäätää SQL-kyselyjä ja indeksit**. Jotkin T-SQL-lauseita tai rakenteita voi olla vaikutusta suorituskykyyn, voi pienentää optimointi tallennetun toimintosarjan koodia. Vältä esimerkiksi **päivämäärä ja aika** -tyypit muuntaminen **varchar** ennen vertaaminen **datetime** -Literaaliarvo. Käytä päivämäärä ja kellonaika vertailu-funktiot. Tarvittavat indeksit puuttuminen voi hidastaa myös kyselyn suorittamisen. Jos käytät objektin relaatio yhdistäminen-framework, ymmärtää toiminta ja miten se voi vaikuttaa suorituskykyyn tiedot access-kerroksen. Lisätietoja on artikkelissa [Kyselyn säätäminen](https://technet.microsoft.com/library/ms176005.aspx).
- **Harkitse normalisointi varaustiedoista tiedot**. Tietojen normalisointi voit välttää kopiointia ja epäyhtenäisyyden. Kuitenkin ylläpito useita indeksejä, viite-eheys tarkistetaan, pieni näkyvissä tietojen useita sisäänkäyntien suorittamiseen ja taulukoiden laitteistotuotteita tietojen liittäminen joutuu katseltavan, jotka voivat vaikuttaa suorituskykyyn. Mieti, jos jotkin lisätallennustilaa äänenvoimakkuus ja monistaminen on hyväksyttävä tietovaraston kuormituksen vähentämiseksi. Kannattaa myös, jos sovellus itse (joka on yleensä helpompi skaalata) voit osaamiskeskuksen tulevat tehtäviä, kuten hallinta viite-eheyden vähentämiseksi tietovaraston kuormitus päälle. Lisätietoja on artikkelissa [tietojen osioinnin ohjeita](https://github.com/mspnp/azure-guidance/blob/master/Data%20partitioning.md).

## <a name="service-implementation"></a>Palvelun käyttöönotto
- **Käytä asynkroninen puhelut**. Käyttäminen asynkroninen koodin mahdollisuuksien mukaan, kun käytettäessä resurssien tai palvelut, jotka voivat rajoittaa i/o tai kaistanleveys tai, joka on huomattavia viive siten vältät lukitseminen puheluja viestiketjun. Toteuttamaan asynkronisten toimintojen käyttäminen [Tehtävien asynkroninen kuvio (Valitse)](https://msdn.microsoft.com/library/hh873175.aspx).
- **Välttää resurssien lukitseminen ja käytä Optimistinen toimintatavan sijaan**. Ei koskaan Lukitse resurssit, kuten tallennuskiintiön käyttämään tai palvelut, joita on huomattavia viive, koska tämä on ensisijainen syy huono suorituskyky. Käytä aina Optimistinen tavoista samanaikaisia toimintoja, kuten kirjoittamisen tallennustilan hallintaan. Tallennustilan kerroksen ominaisuuksien avulla voit hallita ristiriidat. Välimuisti-tiedot voi olla vain myöhemmin yhdenmukaisia.
- **Pakkaa erittäin Pakkaava tiedot odotusaika alhaisen kaistanleveyden verkkojen kautta**. Useimmissa tapauksissa web-sovelluksen tiedot sovelluksen luoman ja välitetty verkossa suurimman äänenvoimakkuuden on HTTP vastauksia asiakkaan pyyntöihin. HTTP-pakkauksen pienentää tämä huomattavasti, erityisesti niiden staattiseksi sisällöksi. Näin voit vähentää kustannuksia sekä vähentää kuormituksen verkossa, mutta pakkaaminen dynaamisen sisällön käyttää fractionally suurempi Lataa palvelimeen. Muita, generalized ympäristöissä tietojen pakkaus voit pienentää äänenvoimakkuutta siirrettävien tietojen ja minimoida siirron aika ja kustannukset, mutta pakkaus ja purku prosessit maksamaan katseltavan. Näin ollen pakkaamisen käytetään vain kun kyseessä on suorituskykyyn osoitettavissa voitto. Muiden Sarjatoiminto kautta, kuten JSON tai binaarinen koodausten voi pienentää tietojen kooksi aikana vähemmän vaikutus suorituskyky XML todennäköisesti niin, että se.
- **Pienennä aika, joka yhteydet ja resurssit ovat käytössä**. Säilyttää yhteydet ja vain resursseja, kunhan, kun haluat käyttää niitä. Avaa esimerkiksi yhteydet mahdollisimman myöhään, ja he voivat palautettava yhteysvarannon mahdollisimman pian. Hanki resurssien mahdollisimman myöhään ja poistaa niitä mahdollisimman pian.
- **Pienennä yhteyksien pakollinen**. Palveluyhteydet Vaimenna resurssit. Rajoittaa tarvittavat ja varmistaa, että aiemmin luodut yhteydet uudelleen aina, kun se on mahdollista. Esimerkiksi suorituksen todennus jälkeen käyttämällä tekeytyminen tarvittaessa suorittaa koodin tiettyjä käyttäjätietoja. Tämän avulla voit tehdä yhteysvarannon parhaat käyttäminen uudelleen yhteydet.

    > [AZURE.NOTE]: APIs for some services automatically reuse connections, provided service-specific guidelines are followed. It's important that you understand the conditions that enable connection reuse for each service that your application uses.

- **Lähettää pyyntöjä optimoi verkon erissä**. Esimerkiksi lähettää ja luettujen viestien erissä jonon käytettäessä sekä suorittaa useita lukuja tai kirjoituksia erissä tallennustilan tai välimuistiin käytettäessä. Tämän avulla voit suurentaa Servicesin ja tallentaa tehokkuuden vähentämällä kutsuja verkon kautta.
- **Vältä pyyntö tallentaa palvelinpuolen istunnon tila** mahdollisuuksien mukaan. Palvelinpuolen istunnon tilan hallinta vaatii yleensä asiakkaan affiniteetti (joka on reititys sivupyynnön saman server-esiintymän), jotka vaikuttavat järjestelmän voi skaalata. Ihannetapauksessa kannattaa suunnitella asiakkaat, jotka koskevat palvelimissa, jotka käyttävät tilattomaksi. Jos sovellus täytyy säilyttää istunnon tila, tallennetaan luottamuksellisia tietoja tai asiakas suurista tietomääristä hajautettu palvelinpuolen välimuistiin, voit käyttää sovelluksen kaikki esiintymät.
- **Optimoi taulukon tallennustilan rakenteet**. Taulukko stores, jotka edellyttävät välitetty ja käsitellään jokainen kyselyn Azure-taulukkotallennus, kuten taulukon ja sarakkeiden nimiä käytettäessä kannattaa käyttää vähentää tämän katseltavan nimiä. Kuitenkin ei sacrifice luettavuuden tai hallittavuutta käyttämällä liian compact nimiä.
- **Käytä tehtävän rinnakkaisia kirjastossa (TPL) asynkronisten toimintojen suorittamiseen**. TPL on helppo kirjoittaa asynkroninen koodia, suorittaa I/O-sidottu toimintoja. Käytä _ConfigureAwait(false)_ mahdollisuuksien jatkumista tietyn synkronoinnin kontekstin riippuvuuden poistamista varten. Tämä pienentää mahdollisuuksia viestiketjun lukituksen määrä.
- **Luo resurssien riippuvuudet käyttöönoton aikana tai sovelluksen käynnistyksen yhteydessä**. Vältä menetelmiä, joka testaa, onko resurssi ja luo sitten resurssi, jos sitä ei ole toistuva puhelut. (Menetelmiä, kuten _CloudTable.CreateIfNotExists_ ja _CloudQueue.CreateIfNotExists_ kirjastossa Azure-tallennustilan asiakkaan noudata tämän kuvion). Näistä tavoista voi asettaa heikentää huomattavasti, jos ne käynnistetään ennen kunkin oikeudet tallennustilan taulukon tai tallennustilan jonossa. Sen sijaan:
 - Luo tarvittavat resurssit, kun sovellus otetaan käyttöön tai kun se käynnistyy ensimmäisen kerran (yhden puhelun _CreateIfNotExists_ verkossa tai Työntekijä-roolin käynnistyskoodi kullekin resurssille on hyväksyttävä). Kuitenkin olla että käsittelemään poikkeuksia, jotka voi tapahtua, jos koodi yrittää käyttää resurssi, joka ei ole. Näissä tilanteissa kannattaa Kirjaudu poikkeuksen ja ilmoita mahdollisesti operaattori, johon asti resurssi on puuttuu.
 - Joissakin tilanteissa kannattaa ehkä luoda puuttuvan resurssin käsittely koodin poikkeuksen osana. Mutta antaa tämän menetelmän harkiten, ei-onko resurssi voi olla alustava ohjelmoinnin virhe (väärin resurssin nimen esimerkiksi) tai muut infrastruktuurin tason ongelma.
- **Käytä kevyt puitteissa**. Valitse huolellisesti ohjelmointirajapinnan ja kehysten, voit pienentää resurssien käyttö, suoritusaika ja sovelluksen yleinen kuormitus. Esimerkiksi verkko-Ohjelmointirajapinnan käyttäminen käsittelemään palvelupyyntöjä voit vähentää sovelluksen vaatiman tallennustilan ja lisää suorittamisen nopeutta, mutta ei ehkä sovellu tilanteita, joissa Windows Communication Foundation lisäominaisuuksia tarvittavat.
- **Harkitse palvelutilejä määrän minimoiminen**. Käytä esimerkiksi tietty tili access resurssien tai palvelut, joita yhteyden rajoitukset, jotka vaikuttavat tai suorittaa paremmin, jossa vähemmän yhteydet säilyvät. Tämä vaihtoehto on yleisiä palvelut, kuten tietokantoja, mutta se voi vaikuttaa voit valvoa tarkasti toimintojen alkuperäinen käyttäjä tekeytyminen vuoksi.
- **Suoritettava suorituskyvyn profilointi ja kuormituksen testaaminen** aikana, osana testiä Programming ja ennen lopullinen versio julkaistaan varmistaaksesi sovelluksen suorittaa ja Skaalaa halutulla tavalla. Testi pitäisi tulla laitteiston sama tyyppi tuotannon-ympäristö, ja samaan tapaan ja tietomäärien ja käyttäjien ladata, kuten se ilmenee tuotannon. Lisätietoja on artikkelissa [testaaminen pilvipalveluun suorituskykyä](vs-azure-tools-performance-profiling-cloud-services.md).
